<div class="flex items-center justify-between">
  <div>
    <h1 class="text-2xl font-semibold text-slate-900"><%= @schedule.name %></h1>
    <p class="text-sm text-slate-500"><%= @schedule.frequency.humanize %> every <%= @schedule.interval_value %> Â· Next on <%= @schedule.next_occurs_on.to_s(:long) %></p>
  </div>
  <div class="flex gap-3">
    <%= link_to "Edit", edit_schedule_path(@schedule), class: "rounded border border-slate-300 px-4 py-2" %>
    <%= button_to "Deactivate", @schedule, method: :delete, class: "rounded bg-rose-500 px-4 py-2 text-white", data: { turbo_confirm: "Deactivate this schedule?" } %>
  </div>
</div>

<div class="mt-6 rounded bg-white p-6 shadow">
  <h2 class="text-lg font-semibold">Linked Transactions</h2>
  <% transactions = @schedule.transactions.order(occurred_on: :desc) %>
  <% if transactions.any? %>
    <ul class="mt-4 space-y-3 text-sm text-slate-600">
      <% transactions.each do |tx| %>
        <li class="flex items-center justify-between">
          <span><%= tx.memo.presence || tx.entry_type.humanize %></span>
          <span><%= number_to_currency(tx.amount_signed) %> on <%= tx.occurred_on.to_s(:long) %></span>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p class="mt-4 text-sm text-slate-500">No transactions linked yet.</p>
  <% end %>
</div>
